(this.webpackJsonpchess=this.webpackJsonpchess||[]).push([[0],[,,function(e,t,n){e.exports={Squar:"style_Squar__2oWEZ",Row:"style_Row__6yvBO",InRange:"style_InRange__38OUS",Self:"style_Self__2JZTb",Beat:"style_Beat__1uTXZ",IsPiece:"style_IsPiece__2t05d",Game:"style_Game__1kCmd",Message:"style_Message__Ic-b_",BeatList:"style_BeatList__1hSEn",Hover:"style_Hover__1UnWH"}},,,,,,,,,,function(e,t,n){e.exports={Squar:"style_Squar__KihG3"}},function(e,t,n){e.exports=n(22)},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t),function(e){var t=n(5),a=n(4),o=n(1),i=n(3),c=n(9),r=function(){var e=1,n=function(){function t(n,a){Object(i.a)(this,t),this.position=n,this.name=a,this.range=0,this.moveVectors=[[0,0]],this.moveRange=[],this.counter=e++,this.img=""}return Object(c.a)(t,[{key:"setPosition",value:function(e){this.position=e,this.setMoveRange()}},{key:"setMoveRange",value:function(){var e=this,t=Object(o.a)(this.position,2),n=t[0],a=t[1];this.moveRange=this.moveVectors.reduce((function(t,i){for(var c=[],r=1;r<=e.range;r++){var s=Object(o.a)(i,2),u=s[0],l=s[1],m=u*r+n,g=l*r+a;m>=0&&m<=7&&g>=0&&g<=7&&c.push([m,g])}return t.concat(c)}),[])}},{key:"getMoveRange",value:function(){return this.moveRange}},{key:"getPosition",value:function(){return this.position}},{key:"getName",value:function(){return this.name}},{key:"getFullName",value:function(){return"(".concat(this.counter,")").concat(this.name," on position ").concat(this.position[0],"/").concat(this.position[1])}},{key:"getImg",value:function(){return this.img}}]),t}(),r=function(e){Object(t.a)(o,e);var n=Object(a.a)(o);function o(e){var t;return Object(i.a)(this,o),(t=n.call(this,e,"King")).range=1,t.img="https://upload.wikimedia.org/wikipedia/commons/thumb/f/f0/Chess_kdt45.svg/50px-Chess_kdt45.svg.png",t.moveVectors=[[-1,0],[-1,1],[0,1],[1,1],[1,0],[1,-1],[0,-1],[-1,-1]],t.setMoveRange(),t}return o}(n),s=function(e){Object(t.a)(o,e);var n=Object(a.a)(o);function o(e){var t;return Object(i.a)(this,o),(t=n.call(this,e,"Queen")).range=7,t.img="https://upload.wikimedia.org/wikipedia/commons/thumb/4/47/Chess_qdt45.svg/50px-Chess_qdt45.svg.png",t.moveVectors=[[-1,0],[-1,1],[0,1],[1,1],[1,0],[1,-1],[0,-1],[-1,-1]],t.setMoveRange(),t}return o}(n),u=function(e){Object(t.a)(o,e);var n=Object(a.a)(o);function o(e){var t;return Object(i.a)(this,o),(t=n.call(this,e,"Rock")).range=7,t.img="https://upload.wikimedia.org/wikipedia/commons/thumb/f/ff/Chess_rdt45.svg/50px-Chess_rdt45.svg.png",t.moveVectors=[[-1,0],[0,1],[1,0],[0,-1]],t.setMoveRange(),t}return o}(n),l=function(e){Object(t.a)(o,e);var n=Object(a.a)(o);function o(e){var t;return Object(i.a)(this,o),(t=n.call(this,e,"Bishop")).range=7,t.img="https://upload.wikimedia.org/wikipedia/commons/thumb/9/98/Chess_bdt45.svg/50px-Chess_bdt45.svg.png",t.moveVectors=[[-1,1],[1,1],[1,-1],[-1,-1]],t.setMoveRange(),t}return o}(n),m=function(e){Object(t.a)(o,e);var n=Object(a.a)(o);function o(e){var t;return Object(i.a)(this,o),(t=n.call(this,e,"Knight")).range=1,t.img="https://upload.wikimedia.org/wikipedia/commons/thumb/e/ef/Chess_ndt45.svg/50px-Chess_ndt45.svg.png",t.moveVectors=[[-1,2],[1,2],[2,1],[2,-1],[1,-2],[-1,-2],[-2,-1],[-2,1]],t.setMoveRange(),t}return o}(n);return{chessPieces:["king","queen","rock","bishop","knight"],createChessman:function(e,t){var n=Object(o.a)(e,2),a=n[0],i=n[1],c={king:r,queen:s,rock:u,bishop:l,knight:m},g="";if((a<0||a>7||i<0||i>7)&&(g+="Position is out of board.\n"),Object.keys(c).includes(t)||(g+='Name "'.concat(t,'" is incorrect.\n')),g)throw new Error(g);return new c[t](e)},resetCounter:function(){e=1}}}();e.exports=r}.call(this,n(21)(e))},,function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),i=n(11),c=n.n(i),r=(n(18),n(19),n(7)),s=n(1),u=n(12),l=n.n(u),m=function(e){var t=e.img,n=e.name;return o.a.createElement("div",{className:l.a.Squar},o.a.createElement("img",{src:t,alt:n,title:n}))},g=n(2),f=n.n(g),h=n(3),v=n(9),p=n(20),b=p.createChessman,d=p.chessPieces,O=p.resetCounter;function j(e){return Math.floor(Math.random()*e)}function _(e,t){return Object(r.a)(new Array(e)).map((function(){return j(t)}))}function k(e,t){var n=Object(s.a)(e,2),a=n[0],o=n[1],i=Object(s.a)(t,2),c=i[0],r=i[1];return a===c&&o===r}function y(e,t){return e.some((function(e){return k(e.getPosition(),t)}))}function w(e){var t=d[j(d.length)],n=function(e){var t=_(2,7);if(0!==e.length)for(;y(e,t);)t=_(2,7);return t}(e),a=b(n,t);return e.push(a),e}var E=function(){function e(){Object(h.a)(this,e)}return Object(v.a)(e,null,[{key:"getGame",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=[];for(O();e.length<=64&&((e=w(e)).length<2||!((t=e.reduce((function(t,n){var a=[];return e.forEach((function(e){var t=e.getPosition();n.moveRange.some((function(e){return k(e,t)}))&&a.push(e)})),a.length>0&&t.push({piecChess:n,piecesToBeat:a}),t}),[])).length>0)););var n=Object(r.a)(new Array(8)).map((function(){return new Array(8).fill(null)}));return e.forEach((function(e){var t=e.getPosition(),a=Object(s.a)(t,2),o=a[0],i=a[1];n[o][i]=e})),{gameBoard:n,possibleBeats:t,history:e}}}]),e}(),R=function(){var e=Object(a.useState)(Object(r.a)(new Array(8)).map((function(){return new Array(8).fill(null)}))),t=Object(s.a)(e,2),n=t[0],i=t[1],c=Object(a.useState)([]),u=Object(s.a)(c,2),l=u[0],g=u[1],h=Object(a.useState)([]),v=Object(s.a)(h,2),p=v[0],b=v[1],d=Object(a.useState)([]),O=Object(s.a)(d,2),j=O[0],_=O[1],k=Object(a.useState)(null),y=Object(s.a)(k,2),w=y[0],R=y[1],C=Object(a.useState)([]),M=Object(s.a)(C,2),P=M[0],N=M[1];function S(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];console.log(e),x();var t=E.getGame(e),n=t.gameBoard,a=t.possibleBeats,o=t.history;g(a),i(n),N(o)}function B(e,t){var n=Object(s.a)(e,2),a=n[0],o=n[1],i=Object(s.a)(t,2),c=i[0],r=i[1];return a===c&&o===r}function I(e){b(e.getMoveRange()),_(e.getPosition())}function q(){b([]),_([]),w&&I(w)}function x(){R(null),b([]),_([])}Object(a.useEffect)((function(){S()}),[]);var G=l.map((function(e,t){var n=e.piecChess,a=e.piecesToBeat,i="".concat(n.getFullName()," can beat ");return a.forEach((function(e,t){i+=0===t?" ".concat(e.getFullName()):" or ".concat(e.getFullName())})),o.a.createElement("li",{key:t,onMouseEnter:function(e){I(n),function(e){e.target.className+=" ".concat(f.a.Hover)}(e)},onMouseLeave:function(e){q(),function(e){e.target.className=e.target.className.replace(" ".concat(f.a.Hover),"")}(e)},className:f.a.BeatList,onClick:function(){R(n),I(n)}},i,".")})),V=n.map((function(e,t){return o.a.createElement("div",{className:f.a.Row,key:t},e.map((function(e,n){var a=f.a.Squar,i=p.some((function(e){return B(e,[t,n])})),c=!!e&&p.some((function(t){return B(t,e.getPosition())})),r=!!e&&B([t,n],j),s=!!e;return c?a+=" ".concat(f.a.Beat):i?a+=" ".concat(f.a.InRange):r&&(a+=" ".concat(f.a.Self)),s&&(a+=" ".concat(f.a.IsPiece)),o.a.createElement("div",{className:a,key:"".concat(t).concat(n),onMouseEnter:function(){e&&I(e)},onMouseLeave:q,onClick:function(){var a;e?function(e){if(w)if(console.log(w,"\n",e),w.getMoveRange().some((function(t){return B(t,e.getPosition())}))){var t=P.findIndex((function(t){return B(t.getPosition(),e.getPosition())}));w.setPosition(e.getPosition()),P.splice(t,1),S(P)}else R(e),I(e);else R(e),I(e)}(e):(a=[t,n],console.log(a),p.some((function(e){return B(e,a)}))&&w?(w.setPosition(a),S(P)):(R(null),x()))}},e?o.a.createElement(m,{img:e.getImg(),name:e.getFullName()}):null)})))}));return o.a.createElement("div",{className:f.a.Game},o.a.createElement("button",{onClick:function(){return S()}},"Reload Game"),o.a.createElement("article",{className:f.a.Game},V,o.a.createElement("ul",{className:f.a.Message},G)))};var C=function(){return o.a.createElement("div",{className:"App"},o.a.createElement(R,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(C,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[13,1,2]]]);
//# sourceMappingURL=main.9a8964e2.chunk.js.map